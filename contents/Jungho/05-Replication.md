# Replication

> 일반적인 분산 시스템에서는 애플리케이션의 고가용성을 위해 내부적으로 리플리케이션 동작을 하게 되는데, 이러한 리플리케이션 동작의 구현은 매우 어려운 부분일 뿐만 아니라 애플리케이션의 성능 저하도 불러오게 된다.

이를 보완하기 위해 카프카는 안정성을 높이과 동시에 최대한 성능에 영향을 주지 않도록 설계되었다. 카프카는 브로커의 장애에도 불구하고 연속적으로 안정적인 서비스를 제공함으로써 데이터 유실을 방지하며 유연성을 제공한다. 카프카의 리플리케이션 동작을 위해 토픽 생성 시 필수값으로 `replication factor` 를 설정해야 한다.

jungho-kafak01 ~ 03 까지의 브로커가 있다고 가정하고, 01 브로커로 메시지를 보낸 후, 02, 03 브로커에 들어가서 dump 명령어를 통해 결과를 확인해보면 모든 브로커가 동일한 메시지를 가지고 있음을 알 수 있다.

즉, N 개의 리플리케이션이 있는 경우 N-1 까지의 브로커 장애가 발생해도 메시지 손실 없이 안정적으로 메시지를 주고 받을 수 있다.
